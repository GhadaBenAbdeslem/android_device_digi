<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.digi.android.server"
    android:sharedUserId="android.uid.system"
    android:versionCode="1"
    android:versionName="1.0">

    <permission android:name="com.digi.android.permission.FIRMWARE_UPDATE"
        android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
        android:protectionLevel="normal"
        android:label="@string/permlab_firmware_update"
        android:description="@string/permdesc_firmware_update" />

    <permission android:name="com.digi.android.permission.GPIO"
        android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
        android:protectionLevel="normal"
        android:label="@string/permlab_gpio"
        android:description="@string/permdesc_gpio" />

    <permission android:name="com.digi.android.permission.I2C"
        android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
        android:protectionLevel="normal"
        android:label="@string/permlab_i2c"
        android:description="@string/permdesc_i2c" />

    <permission android:name="com.digi.android.permission.SPI"
        android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
        android:protectionLevel="normal"
        android:label="@string/permlab_spi"
        android:description="@string/permdesc_spi" />

    <!-- Permissions for installing applications -->
    <uses-permission android:name="android.permission.INSTALL_PACKAGES"/>

    <!-- Location related permissions -->
    <uses-permission android:name="android.permission.INSTALL_LOCATION_PROVIDER"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_UPDATES"/>
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>

    <protected-broadcast android:name="com.android.server.firmwareupdate.FirmwareUpdateAppInstaller.DONE" />

    <application android:name=".DigiServicesApp" android:persistent="true">
        <uses-library android:name="com.android.location.provider"/>
        <service
            android:name=".location.DigiLocationService"
            android:exported="true"
            android:permission="android.permission.ACCESS_COARSE_LOCATION">
            <intent-filter>
                <action android:name="com.android.location.service.v3.NetworkLocationProvider"/>
                <action android:name="com.android.location.service.v2.NetworkLocationProvider"/>
            </intent-filter>

            <meta-data
                android:name="serviceVersion"
                android:value="2"/>
            <meta-data
                android:name="serviceIsMultiuser"
                android:value="false"/>
        </service>
    </application>
</manifest>
